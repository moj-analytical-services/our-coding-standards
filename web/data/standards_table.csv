activity,further_details,before_start,min_level,max_level,why,language,header_level,python,r,javascript
Code Structure,,,,,,,3,,,
"Clear separation of parameters, data, and code.  The structure of your project should be based on one of our templates.",,"Consult the templates before you start, to think about how they apply to your project.  TODO:  Build templates.  Could this be a ‘conceptual’ template rather than language specific?",1,5,"This separates your logic (your code) from the data, assumptions and parameters that power your work. It should be easy for others to change parameters and data without needing to understand the full codebase.",,1,"For Python, use [pylint](https://www.pylint.org/) and follow [PEP8](https://www.python.org/dev/peps/pep-0008/) and particularly [PEP257](https://www.python.org/dev/peps/pep-0257/).","For R, use [this](https://github.com/jimhester/lintr), and use [Hadley’s Style Guide](http://r-pkgs.had.co.nz/style.html)",
"You have applied the relevant linter to your code, and considered addressing any issues.",,"If you apply the linter as you work, rather than at the end, you will find it much easier to write code that passes the linter first time.",1,2,This means our coding style will be consistent across projects.  It will also make it easier for others to understand our code.,,1,,,
Your code should (but not must) pass the relevant linter,,"If you apply the linter as you work, rather than at the end, you will find it much easier to write code that passes the linter first time.",3,4,This means our coding style will be consistent across projects.  It will also make it easier for others to understand our code.,,1,,,
Your code must pass the relevant linter.,,"If you apply the linter as you work, rather than at the end, you will find it much easier to write code that passes the linter first time.",5,5,This means our coding style will be consistent across projects.  It will also make it easier for others to understand our code.,,1,,,
"Appropriate use of abstractions like functions, packages, modules etc, which has been reviewed by language expert. ","Generally, most code should be factored out into functions or other abstractions, and functions should be less than about 50 lines long.","Consult the template for a basic structure.  At a high level, plan how you’re going to structure your code and talk this through with a language expert before you start",1,5,"Makes code easier to understand, maintain, and extend.",,1,"For Python, you should factor code out into modules.","For R, you should use packages as fundamental units of code.","In javascript, you should generally be using multiple `.js` files.  For visualisation code, there should be a separation of concerns between the data model, and the code that visualises your data. "
"If using a notebook (e.g. an R or Jupyter notebook) for your write up, functions are factored out to maintain narrative.","Notebooks can also be useful for other purposes, such as functioning as a way of describing exploratory analysis.  Where notebooks are used for this type of purpose, they can be more free-form.",,2,5,This makes your logic easier to follow,,1,"For Python, code should be factored out into modules.","For R, factor out code either into a `source()`ed `.R` file or a package",
Reproducibility,,,,,,,3,,,
"If the output is a report, the write up is fully reproducible, or as close as possible. "," Avoid workflows that require manually copying and pasting results between documents.  Your code should be [DRY](https://github.com/moj-analytical-services/our-coding-standards/blob/master/correct_clear_concise.md), so if If the result of a calculations are used multiple times in a report, that calculation should be defined once in a function, and called multiple times.",,1,5,"If we need to review or update the output at a later date, we know how we came to earlier results.",,1,"For Python, consider using Jupyter notebooks.","For R, use `rmarkdown`",
Development workflow,,,,,,,3,,,
Code is version controlled using Git and checked into Github,,,1,5,Your work is transparent and discoverable by others and there's a 'single version of the truth' for code.,,1,,You can find a guide to using Git with R [here](http://happygitwithr.com/),
The project is developed using [Git flow](https://guides.github.com/introduction/flow/). ,,,3,5,"You are able to maintain a continuously quality controlled 'master' version of the code, whilst also being able to test new featurs and functionality",,1,,,
"The 'Master' branch is protected, and contains only QAed code",,"When you create your git project using `git init`, immediately branch off to a development branch e.g. using `git checkout -b dev`, and work on this branch.  Merge code into master using pull requests in github.",4,5,A protected master branch guarantees that all pull requests have been reviewed before they are merged.,,1,,,
"All code has been subject to code review.  For smaller projects, this is a simple read-through and sanity check","You should merge branches into master regularly so that reviewers review little and often, rather than attempting to review your entire codebase all at once.",,1,2,"Code review provides additional assurance that code logic is correct, and also the review should provide comments on code and problem structuring.",,1,,,
"All code has been subject to code review.  This process has been managed through pull requests, and this evidenced in Github.  This should typically involve the reviewer pulling the code to their local machine, testing it, and leaving comments in the pull request.  ","You should merge branches into master regularly so that reviewers review ‘little and often’, rather than attempting to review your entire codebase all at once.",,3,5,"Code review provides additional assurance that code logic is correct, and also the review should provide comments on code and problem structuring.",,1,,,
Documentation,,,,,,,3,,,
You have added a description to your Github repository and tagged it with appropriate tags,,,1,5,This will allow your project to be discoverable and reusable by others.,,1,,,
"A README.md file exists in the repository, which contains standard fields ",,,1,5,This will allow your project to be discoverable and reusable by others.,,1,,,
"Code is appropriately commented. [Comments are for explaining why something is needed, not how it works.](https://github.com/moj-analytical-services/our-coding-standards/blob/7e751164d577b521e7f62484a68ee1861f8ae4ac/they_are_users_too.md#L4)",,,1,5,"Appropriate use of comments means it is easier to understand how code works at a later date.  Before commenting, consider whether the comment fits better into the function’s documentation than in a comment.",,1,,,
All non trivial functions are documented using the programming language's accepted standard.,,,3,5,"This means that other users can understand your code more easily.  If your functions are short and well documented, there is often little need for additional code comments.",,1,For Python follow [PEP8](https://www.python.org/dev/peps/pep-0008/) and particularly [PEP257](https://www.python.org/dev/peps/pep-0257/).,"For R, use `roxygen2` to document your functions.",
Unit testing,,,,,,,3,,,
"Unit tests exist that test the overall codebase, but not individual functions.",,,1,5,Unit tests help give you confidence that your model does what you think it does,,1,,,
"Unit tests exist at the function level, which test a range of parameters. ",,,3,5," The purpose of these granular tests is to ensure the code continues to give the correct answer ion a range of cases, and even in edge ‘cases’ (where unusual inputs are provided).",,1,,,"For data vis in Javascript, you need unit tests of routines that manipulate your data or data structures.  Visual checks are sufficient of visualisation outputs, but you must make visual checks of the output against real data, and some test datasets that produce predictable output (e.g. where values are set to 1, 0.5 etc.)"
Your unit testing has reached code coverage of at least 75%,,,3,5,"Higher code coverage means that more routes through you code have been checked. Low code coverage is a bad sign, high code coverage is not necessarily a good thing.",,1,,,
Dependency Management,,,,,,,3,,,
Your project should be tested on someone else's machine,,,1,2,There may be software or other dependencies installed on your machine that mean the project doesn't work on others' machines.,,1,,,
You dependencies are managed.,,,3,5,"If your code depends on external packages, these change over time, and need to be enumerated. This guarantees that your code will work on others' machines, and that it will work on your machine in a year's time.",,1,"For Python, use a Virtual Environment","For R, use packrat","For javascript, include third party library dependencies in the project as `.js` files"
Packages and versions,,,,,,,3,,,
"You have used the [sensible defaults](https://github.com/moj-analytical-services/our-coding-standards/blob/master/sensible_defaults.md), unless you have a good reason not to and have discussed this with your line manager",,,1,5,"There are often many ways of tackling a given problem. As a team, it makes sense to standardise our approach, not because one approach is necessarily better than all others, but because collaboration is easier if there is less diversity in our approaches.",,1,,,
Language specific,,,,,,,3,,,
Code style: You should try to follow [PEP8](https://www.python.org/dev/peps/pep-0008/),,,1,2,,Python,1,,,
Code style: You must follow [PEP8](https://www.python.org/dev/peps/pep-0008/),,,3,5,,Python,1,,,
Code Style: You should try to follow [Hadley’s style guide](http://adv-r.had.co.nz/Style.html),,,1,2,,R,1,,,
Code Style: You must follow [Hadley’s style guide](http://adv-r.had.co.nz/Style.html),,,3,5,,R,1,,,
"In R, you should generally use a [functional programming style.](http://adv-r.had.co.nz/Functional-programming.html)",,,1,5,,R,1,,,
