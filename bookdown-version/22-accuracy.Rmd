---
title: ''
output: html_document
---

## Accurate {#accurate}

### Review {#review}
Ensure that code is reviewed: initiate this through a pull request. Remember that itâ€™s always easier (for both you and your reviewers) if you commit and push your changes regularly.

All code has been subject to code review.  
For smaller projects, this is a simple read-through and sanity check You should merge branches into master regularly so that reviewers review little and often, rather than attempting to review your entire codebase all at once. 
Code review provides additional assurance that code logic is correct, and also the review should provide comments on code and problem structuring.

All code has been subject to code review. 
This process has been managed through pull requests, and this evidenced in Github.  This should typically involve the reviewer pulling the code to their local machine, testing it, and leaving comments in the pull request. 
You should merge branches into master regularly so that reviewers review little and often, rather than attempting to review your entire codebase all at once. 
Code review provides additional assurance that code logic is correct, and also the review should provide comments on code and problem structuring.


#### Performing good peer review {-}

When you review someone's pull request you become the gatekeeper to the master branch - this is a _very_ important job!  If you're tasked with this and you're wondering how to proceed asking yourself these questions is a good place to start...

1: Do I understand what the code is doing? [Did it need to be explained](#users) to me? [Could it be simpler](#ccc)?

2: Are they using [packages / libraries sensibly](#defaults)?

3: Does it need to be [tested](#ccc) (and is it tested with sufficient coverage)?

4: [Does it work](#ccc)? Does it work on my machine?

5: Are there edge cases that might [break The Thing](#errors)?

If you're reviewing the code of a more experienced coder, this is **a chance to learn** and you have _every_ right to ask for an explanation if there's something that is unclear.  It's in everyone's interest that you understand what you're reading and it could well be that you don't yet understand it because the author has made a mistake or overcomplicated something.  So _don't hold back_.

If you're on the receiving end of feedback, from anyone at all, this is... **a chance to learn!** :)


### Unit testing {#unittest}

Use testthat and shinytest for unit testing. The following might be helpful:  
* Nice [intro to using testthat][9]  
* Another [intro to testthat][10]  
* [Example of using testthat][11]  

[9]:https://katherinemwood.github.io/post/testthat/
[10]:https://towardsdatascience.com/unit-testing-in-r-68ab9cc8d211
[11]:https://github.com/RobinL/costmodelr/tree/master/tests

Unit tests exist that test the overall codebase, but not individual functions. 
Unit tests help give you confidence that your model does what you think it does 
There are various approaches to unit testing in Python.  Consider using [unittest](https://docs.python.org/3/library/unittest.html) in the Python core library.  Another option is [pytest](https://docs.pytest.org/en/latest/).  See also [here](http://python-guide-pt-br.readthedocs.io/en/latest/writing/tests/) 
In R, you should use the [testthat](https://github.com/hadley/testthat) package for unit testing.  
You can find examples of how to do unit testing [here](https://github.com/ukgovdatascience/eesectors/tree/master/tests) and [here](https://github.com/RobinL/costmodelr/tree/master/tests) See [here](http://busypeoples.github.io/post/testing-d3-with-jasmine/) for testing with javascript

Unit tests exist at the function level, which test a range of parameters.   
The purpose of these granular tests is to ensure the code continues to give the correct answer ion a range of cases, and even in edge cases (where unusual inputs are provided). 
For data vis in Javascript, you need unit tests of routines that manipulate your data or data structures.  Visual checks are sufficient of visualisation outputs, but you must make visual checks of the output against real data, and some test datasets that produce predictable output (e.g. where values are set to 1, 0.5 etc.)

